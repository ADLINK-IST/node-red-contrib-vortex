<!--
  PrismTech licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with the
  License and with the PrismTech Vortex product. You may obtain a copy of the
  License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License and README for the specific language governing permissions and
  limitations under the License.
-->
<script type="text/x-red" data-template-name="prismtech-vortex-in">
    <div class="form-row">
        <label for="node-input-vortex"><i class="fa fa-globe"></i> Vortex</label>
        <input type="text" id="node-input-vortex">
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-newspaper-o"></i> Topic</label>
        <input type="text" id="node-input-topic">
    </div>
    <div class="form-row">
        <label for="node-input-topicType"><i class="fa fa-newspaper-o"></i> Topic Type</label>
        <input type="text" id="node-input-topicType">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
        <label for="node-input-domain"><i class="fa fa-minus"></i> Domain</label>
        <input type="text" id="node-input-domain">
    </div>
    <div class="form-row">
        <label for="node-input-reliability"><i class="fa fa-link"></i> Reliability</label>
        <select id="node-input-reliability" style="width:125px !important">
            <option value="0">Reliable</option>
			<option value="1">Best Effort</option>
        </select>
    </div>
	<div class="form-row">
        <label for="node-input-durability"><i class="fa fa-link"></i> Durability</label>
        <select id="node-input-durability" style="width:125px !important">
            <option value="0">Volatile</option>
            <option value="1">TransientLocal</option>
			<option value="2">Transient</option>
            <option value="3">Persistent</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-history"><i class="fa fa-history"></i> History</label>
        <select id="node-input-history" style="width:125px !important">
            <option value="1">Keep last</option>
            <option value="0">Keep all</option>
        </select>
        <label for="node-input-history_depth" style="margin-left: 10px; width: 45px; "> Depth</label>
        <input type="text" id="node-input-history_depth" style="width:45px">
    </div>
    <div class="form-row">
        <label for="node-input-content_filter"><i class="fa fa-filter"></i> Content filter</label>
        <input type="text" id="node-input-content_filter">
    </div>
    <div class="form-row">
        <label for="node-input-time_filter"><i class="fa fa-filter"></i> Time filter</label>
        <input type="text" id="node-input-time_filter">
    </div>
</script>

<script type="text/x-red" data-help-name="prismtech-vortex-in">
    <p><a href="http://www.prismtech.com">PrismTech</a> <a href="http://www.prismtech.com/vortex">Vortex</a> input node.</p>
    <p>Outputs an object called <b>msg</b> containing <b>msg.payload</b> which is a JSON object.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('prismtech-vortex-in', {
        category: 'input',
        defaults: {
            name: {value: ""},
            topic: {value:"",required:true},
			topicType: {value:""},
            domain: {value: "0", required:true,validate:RED.validators.number()},
            reliability: {value:""},
			durability: {value:""},
            history: {value: ""},
            history_depth: {value: ""},
            content_filter: {value: ""},
            time_filter: {value: ""},
            vortex: {type:"prismtech-vortex", required:true},
        },
        color:"#F7A520",
        inputs:0,
        outputs:1,
        icon: "vortex.png",
        paletteLabel: "Vortex In",
        label: function() {
            return this.name||this.topic||"Vortex";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/x-red" data-template-name="prismtech-vortex-out">
    <div class="form-row">
        <label for="node-input-vortex"><i class="fa fa-globe"></i> Vortex</label>
        <input type="text" id="node-input-vortex">
    </div>
    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-newspaper-o"></i> Topic</label>
        <input type="text" id="node-input-topic">
    </div>
    <div class="form-row">
        <label for="node-input-topicType"><i class="fa fa-newspaper-o"></i> Topic Type</label>
        <input type="text" id="node-input-topicType">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
        <label for="node-input-domain"><i class="fa fa-minus"></i> Domain</label>
        <input type="text" id="node-input-domain">
    </div>

    <div class="form-row">
        <label for="node-input-reliability"><i class="fa fa-link"></i> Reliability</label>
        <select id="node-input-reliability" style="width:125px !important">
            <option value="0">Reliable</option>
			<option value="1">Best Effort</option>
        </select>
    </div>
	<div class="form-row">
        <label for="node-input-durability"><i class="fa fa-link"></i> Durability</label>
        <select id="node-input-durability" style="width:125px !important">
            <option value="0">Volatile</option>
            <option value="1">TransientLocal</option>
			<option value="2">Transient</option>
            <option value="3">Persistent</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-history"><i class="fa fa-history"></i> History</label>
        <select id="node-input-history" style="width:125px !important">
            <option value="1">Keep last</option>
            <option value="0">Keep all</option>
        </select>
        <label for="node-input-history_depth" style="margin-left: 10px; width: 45px; "> Depth</label>
        <input type="text" id="node-input-history_depth" style="width:45px">
    </div>
</script>

<script type="text/x-red" data-help-name="prismtech-vortex-out">
    <p><a href="http://www.prismtech.com">PrismTech</a> <a href="http://www.prismtech.com/vortex">Vortex</a> output node.</p>
    <p>Input is an object called <b>msg</b> containing <b>msg.payload</b> which is a JSON object to be written to Vortex.</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('prismtech-vortex-out', {
        category: 'output',
        defaults: {
            name: {value: ""},
            topic: {value:"",required:true},
			topicType: {value:""},
            domain: {value: "0", required:true,validate:RED.validators.number()},
            reliability: {value:""},
			durability: {value:""},
            history: {value: ""},
            history_depth: {value: ""},
            vortex: {type:"prismtech-vortex", required:true},
        },
        color:"#F7A520",
        inputs:1,
        outputs:0,
        icon: "vortex.png",
        paletteLabel: "Vortex Out",
        align: "right",
        label: function() {
            return this.name||this.topic||"Vortex";
        },
        labelStyle: function() {
            return this.name?"node_label_italic":"";
        }
    });
</script>

<script type="text/javascript">
    RED.nodes.registerType('prismtech-vortex', {
        category: 'config',
        defaults: {
            host: {value:"localhost",required:true},
            port: {value:9000, required:true,validate:RED.validators.number()},
        },
        credentials: {
            user: {type:"text"},
            password: {type: "password"}
        },
        label: function() {
            if (this.host == "") { this.host = "localhost"; }
            return this.host+":"+this.port;
        }
    });
</script>

<script type="text/x-red" data-template-name="prismtech-vortex">
    <div class="form-row">
        <label for="node-config-input-host"><i class="icon-bookmark"></i> Host</label>
        <input class="input-append-left" type="text" id="node-config-input-host" placeholder="locahost" style="width: 40%;">
        <label for="node-config-input-port" style="margin-left: 10px; width: 35px; "> Port</label>
        <input type="text" id="node-config-input-port" placeholder="9000" style="width: 45px">
    </div>
    <div class="form-row">
        <label for="node-config-input-user"><i class="fa fa-user"></i> User</span></label>
        <input type="text" id="node-config-input-user">
    </div>
    <div class="form-row">
        <label for="node-config-input-password"><i class="fa fa-lock"></i> Password</span></label>
        <input type="password" id="node-config-input-password">
    </div>
</script>